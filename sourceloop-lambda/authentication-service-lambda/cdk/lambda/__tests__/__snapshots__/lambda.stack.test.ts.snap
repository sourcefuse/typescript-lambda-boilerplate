// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`My CDKTF Application with all config set should match snapshot test 1`] = `
{
  "output": {
    "function": {
      "value": "\${aws_lambda_function.lambda-function.arn}"
    },
    "url": {
      "value": "\${aws_apigatewayv2_api.api-gw.api_endpoint}"
    }
  },
  "provider": {
    "aws": [
      {
        "assume_role": [
          {
          }
        ]
      }
    ],
    "random": [
      {
      }
    ]
  },
  "resource": {
    "aws_apigatewayv2_api": {
      "api-gw": {
        "name": "test",
        "protocol_type": "HTTP",
        "target": "\${aws_lambda_function.lambda-function.arn}"
      }
    },
    "aws_iam_policy": {
      "lambda-policy": {
        "policy": "{\\"Version\\":\\"2012-10-17\\",\\"Statement\\":[{\\"Effect\\":\\"Allow\\",\\"Action\\":[\\"logs:CreateLogGroup\\",\\"logs:CreateLogStream\\",\\"logs:PutLogEvents\\",\\"ec2:CreateNetworkInterface\\",\\"ec2:DescribeNetworkInterfaces\\",\\"ec2:DeleteNetworkInterface\\",\\"ec2:AssignPrivateIpAddresses\\",\\"ec2:UnassignPrivateIpAddresses\\"],\\"Resource\\":\\"*\\"}]}"
      }
    },
    "aws_iam_role": {
      "lambda-exec": {
        "assume_role_policy": "{\\"Version\\":\\"2012-10-17\\",\\"Statement\\":[{\\"Action\\":\\"sts:AssumeRole\\",\\"Principal\\":{\\"Service\\":\\"lambda.amazonaws.com\\"},\\"Effect\\":\\"Allow\\",\\"Sid\\":\\"\\"}]}",
        "name": "lambda-role-test-\${random_pet.random-name.id}"
      }
    },
    "aws_iam_role_policy_attachment": {
      "lambda-managed-policy": {
        "policy_arn": "\${aws_iam_policy.lambda-policy.arn}",
        "role": "\${aws_iam_role.lambda-exec.name}"
      }
    },
    "aws_lambda_function": {
      "lambda-function": {
        "filename": "assets/lambda-asset/ABC123/archive.zip",
        "function_name": "cdktf-test-\${random_pet.random-name.id}",
        "handler": "lambda.handler",
        "layers": [
          "\${aws_lambda_layer_version.lambda-layer.arn}"
        ],
        "memory_size": 128,
        "role": "\${aws_iam_role.lambda-exec.arn}",
        "runtime": "nodejs16.x",
        "vpc_config": {
          "security_group_ids": [
            "sg-123456"
          ],
          "subnet_ids": [
            "subnet-123456"
          ]
        }
      }
    },
    "aws_lambda_layer_version": {
      "lambda-layer": {
        "filename": "assets/lambda-layer-asset/ABC123/archive.zip",
        "layer_name": "test-layers-\${random_pet.random-name.id}"
      }
    },
    "aws_lambda_permission": {
      "apigw-lambda-permission": {
        "action": "lambda:InvokeFunction",
        "function_name": "\${aws_lambda_function.lambda-function.function_name}",
        "principal": "apigateway.amazonaws.com",
        "source_arn": "\${aws_apigatewayv2_api.api-gw.execution_arn}/*/*"
      }
    },
    "random_pet": {
      "random-name": {
        "length": 2
      }
    }
  },
  "terraform": {
    "required_providers": {
      "aws": {
        "source": "aws",
        "version": "4.49.0"
      },
      "random": {
        "source": "hashicorp/random",
        "version": "3.4.3"
      }
    }
  }
}
`;
